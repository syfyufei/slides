<!DOCTYPE html>
<html lang="en"><head>
<script src="Basic_Visualize_files/libs/clipboard/clipboard.min.js"></script>
<script src="Basic_Visualize_files/libs/quarto-html/tabby.min.js"></script>
<script src="Basic_Visualize_files/libs/quarto-html/popper.min.js"></script>
<script src="Basic_Visualize_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Basic_Visualize_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Basic_Visualize_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Basic_Visualize_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Basic_Visualize_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.552">

  <meta name="author" content="SUN Yufei（Adrian）">
  <title>Visualization in R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Basic_Visualize_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Basic_Visualize_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Basic_Visualize_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="https://drhuyue.site:10002/Adrian/data/style_basic.css">
  <link href="Basic_Visualize_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Basic_Visualize_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Basic_Visualize_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Basic_Visualize_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="Basic_Visualize_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="Basic_Visualize_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="https://adriansun.drhuyue.site/img/logo.jpg" data-background-position="top 10% right 5%" data-background-size="100px" class="quarto-title-block center">
  <h1 class="title">Visualization in R</h1>
  <p class="subtitle">R Workshop 2024 in UTokyo</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
SUN Yufei（Adrian） 
</div>
        <p class="quarto-title-affiliation">
            UTokyo &amp; Tsinghua University
          </p>
    </div>
</div>

</section>
<section>
<section id="course-homepage" class="title-slide slide level1 center" data-background="#43464B">
<h1>Course Homepage</h1>
<div style="text-align: right; margin-top: 1em">
<p>https://adriansun.drhuyue.site/course/r-workshop-tokyo-2024.html</p>
<p>Email: sunyf20@mails.tsinghua.edu.cn</p>
<p><img data-src="https://drhuyue.site:10002/Adrian/figure/qrcode_adriansun.drhuyue.site.png" height="250"></p>
</div>
</section>
<section id="visualization-engines-in-r" class="slide level2">
<h2>Visualization Engines in R</h2>
<ul>
<li class="fragment"><p>Build-In: Base R Graphics</p></li>
<li class="fragment"><p><code>lattice</code>: Trellis graphics, with an emphasis on multivariate data</p></li>
<li class="fragment"><p><code>ggplot2</code>: based on The Grammar of Graphics</p></li>
</ul>
<aside class="notes">
<ul>
<li><code>Base R Graphics</code> is the most basic and oldest visualization tool in R, providing a straightforward approach to creating simple plots.</li>
<li><code>lattice</code> is a powerful tool for visualizing multivariate data, providing a flexible and customizable approach to creating complex plots.</li>
<li><code>ggplot2</code>, on the other hand, is a more recent and widely used package that follows the Grammar of Graphics principles, offering a more modern and flexible approach to data visualization.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="scatter-plot" class="slide level2 scrollable">
<h2>Scatter Plot</h2>
<p>RQ: Do people of different age groups have different views on income distribution?（WVS7 Q106）</p>
<div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
<p><span style="color: #0ABAB5;">1</span> <span>Incomes should be made more equal</span> <input type="range" min="1" max="10" value="5" style="flex-grow: 1; margin: 0 10px;"> <span>There should be greater incentives for individual effort</span> <span style="color: #0ABAB5;">10</span></p>
</div>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Base R</a></li><li><a href="#tabset-1-2">Base R more</a></li><li><a href="#tabset-1-3">lattice</a></li><li><a href="#tabset-1-4">lattice more</a></li><li><a href="#tabset-1-5">ggplot2</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">plot</span>(wvs<span class="sc">$</span>incomeLevel, wvs<span class="sc">$</span>education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-1-1.png" class="quarto-figure quarto-figure-center" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="fragment">
<p>Why does this graph only show a bunch of small circles?</p>
</div>
<aside class="notes">
<p>If you open the original data, you will find that the values in these two variables are integers. Therefore, the same circle position on the scatter plot may actually have multiple repeated values.</p>
<p>They are completely overlapped at the same position, so the data information is not fully expressed.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-1-2">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="co"># png("scatterBasic.png")</span></span>
<span id="cb2-2"><a href=""></a></span>
<span id="cb2-3"><a href=""></a><span class="fu">plot</span>(</span>
<span id="cb2-4"><a href=""></a>  wvs<span class="sc">$</span>incomeLevel, wvs<span class="sc">$</span>education,</span>
<span id="cb2-5"><a href=""></a>  <span class="at">main =</span> <span class="st">"Family Income and Education"</span>,</span>
<span id="cb2-6"><a href=""></a>  <span class="at">xlab =</span> <span class="st">"Family Income"</span>,</span>
<span id="cb2-7"><a href=""></a>  <span class="at">ylab =</span> <span class="st">"Education Level"</span></span>
<span id="cb2-8"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-2-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="co"># dev.off()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li class="fragment">Enable device: Set save path and format.</li>
<li class="fragment">Draw the plot</li>
<li class="fragment">Close the device</li>
</ol>
<aside class="notes">
<p>The <code>plot()</code> command is used to create a scatter plot of the incomeLevel (family income) and education columns from the wvs7 data frame. The main parameter sets the graph’s main title as “Family Income and Education”, while the xlab and ylab parameters set the X-axis and Y-axis labels as “Family Income” and “Education Level” respectively.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-1-3">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="fu">xyplot</span>(education <span class="sc">~</span> incomeLevel, <span class="at">data =</span> wvs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-3-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li>The <code>xyplot()</code> command is one of the functions in the lattice package used to create scatter plots. The relationship between variables can be expressed in the form of a formula, separated by the <code>~</code> symbol, with the dependent variable (in this case, education) on the left side and the independent variable (in this case, incomeLevel) on the right side.</li>
<li>The <code>data = wvs7</code> parameter specifies that the data frame containing these variables is named wvs7. This means that the xyplot function will look for the education and incomeLevel variables in the wvs7 data frame to create the graph.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-1-4">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="fu">xyplot</span>(</span>
<span id="cb5-2"><a href=""></a>  education <span class="sc">~</span> incomeLevel,</span>
<span id="cb5-3"><a href=""></a>  <span class="at">group =</span> female,</span>
<span id="cb5-4"><a href=""></a>  <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"p"</span>, <span class="st">"g"</span>, <span class="st">"smooth"</span>),</span>
<span id="cb5-5"><a href=""></a>  <span class="at">main =</span> <span class="st">"Family Income on Education"</span>,</span>
<span id="cb5-6"><a href=""></a>  <span class="at">xlab =</span> <span class="st">"Income"</span>,</span>
<span id="cb5-7"><a href=""></a>  <span class="at">ylab =</span> <span class="st">"Education"</span>,</span>
<span id="cb5-8"><a href=""></a>  <span class="at">data =</span> wvs,</span>
<span id="cb5-9"><a href=""></a>  <span class="at">auto.key =</span> <span class="cn">TRUE</span></span>
<span id="cb5-10"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-4-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li>The <code>xyplot()</code> command is used to create a scatter plot. <code>education ~ incomeLevel</code> specifies the dependent variable (Y-axis) and independent variable (X-axis) of the graph.</li>
<li>The <code>group = female</code> parameter indicates that data points will be grouped based on the values of the female variable.</li>
<li><code>type = c("p", "g", "smooth")</code> specifies the graph types: ‘p’ represents points (scatter plot), ‘g’ represents grid lines, and ‘smooth’ adds a smoothing curve.</li>
<li>The <code>main</code>, <code>xlab</code>, and <code>ylab</code> parameters set the main title and labels for the X and Y axes, respectively.</li>
<li><code>data = wvs7</code> specifies the data source.</li>
<li><code>auto.key = TRUE</code> automatically adds a legend to distinguish different groups.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="fu">xyplot</span>(</span>
<span id="cb6-2"><a href=""></a>  education <span class="sc">~</span> incomeLevel <span class="sc">|</span> religious,</span>
<span id="cb6-3"><a href=""></a>  <span class="at">group =</span> female,</span>
<span id="cb6-4"><a href=""></a>  <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"p"</span>, <span class="st">"g"</span>, <span class="st">"smooth"</span>),</span>
<span id="cb6-5"><a href=""></a>  <span class="at">main =</span> <span class="st">"Family Income on Education"</span>,</span>
<span id="cb6-6"><a href=""></a>  <span class="at">xlab =</span> <span class="st">"Income"</span>,</span>
<span id="cb6-7"><a href=""></a>  <span class="at">ylab =</span> <span class="st">"Education"</span>,</span>
<span id="cb6-8"><a href=""></a>  <span class="at">data =</span> wvs,</span>
<span id="cb6-9"><a href=""></a>  <span class="at">auto.key =</span> <span class="cn">TRUE</span></span>
<span id="cb6-10"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-5-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li>The <code>xyplot()</code> command is used to create grouped plots distinguishing religious categories. Similar to the first one, but here the <code>|</code> symbol is introduced, indicating that the graph will be faceted according to different values of the <code>religious</code> variable, creating a subplot for each <code>religious</code> value. This allows for a more detailed exploration of the relationship between education level and family income across different religious backgrounds.</li>
<li>The remaining parameters are the same as in the first <code>xyplot()</code> command, used to set the graph type, title, axis labels, data source, and automatic legend.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Please create a scatter plot of education level versus income, grouped by country</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="fu">xyplot</span>(</span>
<span id="cb7-2"><a href=""></a>  education <span class="sc">~</span> incomeLevel <span class="sc">|</span> country,</span>
<span id="cb7-3"><a href=""></a>  <span class="at">layout=</span><span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">3</span>),</span>
<span id="cb7-4"><a href=""></a>  <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"p"</span>, <span class="st">"g"</span>),</span>
<span id="cb7-5"><a href=""></a>  <span class="at">main =</span> <span class="st">"Family In come on Education"</span>,</span>
<span id="cb7-6"><a href=""></a>  <span class="at">xlab =</span> <span class="st">"Income"</span>,</span>
<span id="cb7-7"><a href=""></a>  <span class="at">ylab =</span> <span class="st">"Education"</span>,</span>
<span id="cb7-8"><a href=""></a>  <span class="at">data =</span> wvs,</span>
<span id="cb7-9"><a href=""></a>  <span class="at">auto.key =</span> <span class="cn">TRUE</span></span>
<span id="cb7-10"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-6-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-6-2.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-6-3.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-5">
<p><code>ggplot2</code>: Grammar of Graphics</p>
<p>figure -&gt; individual components: data, aesthetics, geometry, statistics</p>
<aside class="notes">
<ul>
<li>The Grammar of Graphics is a systematic theory of data visualization proposed by Leland Wilkinson. It breaks down the process of creating graphics into several independent layers, including:
<ol type="1">
<li>Data: The dataset to be visualized</li>
<li>Aesthetics: Mapping data variables to graphical properties (such as x-axis, y-axis, color, shape, etc.)</li>
<li>Geometries: Visual elements used to represent data (such as points, lines, bars, etc.)</li>
<li>Statistics: Statistical transformations applied to the data (such as summarization, smoothing, etc.)</li>
<li>Scales: Controlling how data is mapped to graphical properties</li>
<li>Coordinate Systems: Defining how data is presented on a plane</li>
<li>Facets: Splitting data into subsets and creating small multiples</li>
</ol></li>
</ul>
<p>Creating plots with ggplot is similar to editing photos in Photoshop: you start with a basic plot and then add layers of effects one by one</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> wvs,</span>
<span id="cb8-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> incomeLevel, <span class="at">y =</span> education, <span class="at">color =</span> religious))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-7-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Create a basic plot using the <code>ggplot()</code> function, which defines the data source (<code>data = wvs</code>) and aesthetic mappings (<code>aes</code>). In <code>aes</code>, <code>x = incomeLevel</code> and <code>y = education</code> specify that the X-axis and Y-axis of the scatter plot should be mapped to the <code>incomeLevel</code> (income level) and <code>education</code> (education level) variables, respectively. <code>color = religious</code> specifies that the color of the points should vary according to different values of the <code>religious</code> (religious belief) variable, so different religious beliefs will be represented by points of different colors on the plot.</p>
<p>This graph is currently empty because the command here only specifies the basic elements of the graph, and no specific graphics have been added through the <code>geom_*</code> series of commands.</p>
<p>Next, we will start adding more graphics to it.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> wvs,</span>
<span id="cb9-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> incomeLevel, <span class="at">y =</span> education, <span class="at">color =</span> religious)) <span class="sc">+</span></span>
<span id="cb9-3"><a href=""></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href=""></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="cn">NULL</span>), <span class="at">se=</span><span class="cn">TRUE</span>) <span class="sc">+</span> </span>
<span id="cb9-5"><a href=""></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Economy on Education"</span> ,</span>
<span id="cb9-6"><a href=""></a>         <span class="at">subtitle =</span> <span class="st">"Scatter plot + density distribution"</span>,</span>
<span id="cb9-7"><a href=""></a>         <span class="at">x =</span> <span class="st">"Family Income"</span>, <span class="at">y =</span> <span class="st">"Education"</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href=""></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-8-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li><p>Add scatter plot: <code>geom_point()</code> adds a scatter plot layer, <code>size = 2</code> sets the size of the points, <code>alpha = 0.3</code> sets the transparency of the points, making it easier to observe the density of data points.</p></li>
<li><p>Add smooth curve: <code>geom_smooth()</code> adds a smooth curve to show the trend between <code>incomeLevel</code> and <code>education</code>, <code>aes(color = NULL)</code> means not coloring the smooth curve according to <code>religious</code>, <code>se=TRUE</code> indicates displaying the standard error of the curve.</p></li>
<li><p>Set graph labels: <code>labs</code> is used to add title, subtitle, and axis labels to the graph, making the graph information more complete and clear.</p></li>
<li><p>Set theme and other details: <code>theme_minimal</code> applies a minimalist theme, with a clean and concise background highlighting the data.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>Universal formula for plotting with ggplot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="co"># Load the ggplot2 package</span></span>
<span id="cb10-2"><a href=""></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb10-3"><a href=""></a></span>
<span id="cb10-4"><a href=""></a><span class="co"># General ggplot template</span></span>
<span id="cb10-5"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="sc">&lt;</span>your_data<span class="sc">&gt;</span>, <span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">&lt;</span>x_variable<span class="sc">&gt;</span>, <span class="at">y =</span> <span class="sc">&lt;</span>y_variable<span class="sc">&gt;</span>, <span class="at">fill =</span> <span class="sc">&lt;</span>fill_variable<span class="sc">&gt;</span>, <span class="at">color =</span> <span class="sc">&lt;</span>color_variable<span class="sc">&gt;</span>)) <span class="sc">+</span></span>
<span id="cb10-6"><a href=""></a>  <span class="er">&lt;</span>geom_function<span class="sc">&gt;</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="sc">&lt;</span>group_variable<span class="sc">&gt;</span>), </span>
<span id="cb10-7"><a href=""></a>                  <span class="at">size =</span> <span class="sc">&lt;</span>size_value<span class="sc">&gt;</span>, </span>
<span id="cb10-8"><a href=""></a>                  <span class="at">shape =</span> <span class="sc">&lt;</span>shape_value<span class="sc">&gt;</span>, </span>
<span id="cb10-9"><a href=""></a>                  <span class="at">alpha =</span> <span class="sc">&lt;</span>alpha_value<span class="sc">&gt;</span>) <span class="sc">+</span></span>
<span id="cb10-10"><a href=""></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"&lt;Your Plot Title&gt;"</span>, </span>
<span id="cb10-11"><a href=""></a>       <span class="at">subtitle =</span> <span class="st">"&lt;Subtitle&gt;"</span>, </span>
<span id="cb10-12"><a href=""></a>       <span class="at">x =</span> <span class="st">"&lt;X-axis Label&gt;"</span>, </span>
<span id="cb10-13"><a href=""></a>       <span class="at">y =</span> <span class="st">"&lt;Y-axis Label&gt;"</span>, </span>
<span id="cb10-14"><a href=""></a>       <span class="at">fill =</span> <span class="st">"&lt;Legend Title for Fill&gt;"</span>, </span>
<span id="cb10-15"><a href=""></a>       <span class="at">color =</span> <span class="st">"&lt;Legend Title for Color&gt;"</span>) <span class="sc">+</span></span>
<span id="cb10-16"><a href=""></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  <span class="co"># Use theme of your choice</span></span>
<span id="cb10-17"><a href=""></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),  <span class="co"># Center the title</span></span>
<span id="cb10-18"><a href=""></a>        <span class="at">legend.position =</span> <span class="st">"&lt;legend_position&gt;"</span>) <span class="sc">+</span>  <span class="co"># Legend position options: "none", "left", "right", "bottom", "top"</span></span>
<span id="cb10-19"><a href=""></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="sc">&lt;</span>custom_color_palette<span class="sc">&gt;</span>) <span class="sc">+</span>  <span class="co"># Custom color palette (optional)</span></span>
<span id="cb10-20"><a href=""></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="sc">&lt;</span>custom_fill_palette<span class="sc">&gt;</span>)  <span class="co"># Custom fill palette (optional)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li class="fragment"><strong><code>ggplot()</code></strong> initializes the plot.</li>
<li class="fragment"><strong><code>aes()</code></strong> defines the aesthetic mappings (like x, y, color, and fill).</li>
<li class="fragment"><strong><code>geom_*()</code></strong> specifies the type of plot (scatter, bar, line, etc.).</li>
<li class="fragment"><strong><code>labs()</code></strong> adds titles and labels.</li>
<li class="fragment"><strong><code>theme()</code></strong> customizes the plot’s appearance.</li>
<li class="fragment"><strong><code>scale_*()</code></strong> modifies color and fill scales.</li>
</ul>
<aside class="notes">
<h3 id="ggplotdata-your_data">1. <strong><code>ggplot(data = &lt;your_data&gt;)</code></strong></h3>
<ul>
<li><strong>Purpose</strong>: This initializes the plot. The <code>data</code> argument specifies the dataset you will use for plotting.</li>
<li><strong>Example</strong>: If you have a dataset named <code>my_data</code>, you would write <code>ggplot(data = my_data)</code> to tell <code>ggplot</code> where to pull the data from.</li>
</ul>
<h3 id="aesx-x_variable-y-y_variable">2. <strong><code>aes(x = &lt;x_variable&gt;, y = &lt;y_variable&gt;)</code></strong></h3>
<ul>
<li><strong>Purpose</strong>: The <code>aes()</code> function defines the <strong>aesthetics</strong> of your plot. Aesthetics are the visual aspects of the plot, such as the x and y axis variables, colors, fills, shapes, etc.</li>
<li><strong>Explanation</strong>: <code>x = &lt;x_variable&gt;</code> sets the variable for the x-axis, and <code>y = &lt;y_variable&gt;</code> sets the variable for the y-axis.</li>
<li><strong>Example</strong>: If you’re plotting <code>height</code> against <code>age</code>, it would look like this: <code>aes(x = age, y = height)</code>.</li>
</ul>
<h3 id="fill-fill_variable-color-color_variable">3. <strong><code>fill = &lt;fill_variable&gt;, color = &lt;color_variable&gt;</code></strong></h3>
<ul>
<li><strong>Purpose</strong>: These additional arguments inside <code>aes()</code> are used to map specific variables to <strong>colors</strong> (for lines or points) or <strong>fills</strong> (for bar charts, density plots, etc.). They help differentiate between groups.</li>
<li><strong>Example</strong>: If you want to color different groups by gender, you could use <code>fill = gender</code> or <code>color = gender</code>.</li>
</ul>
<h3 id="geom_functionaes...">4. <strong><code>&lt;geom_function&gt;(aes(...))</code></strong></h3>
<ul>
<li><p><strong>Purpose</strong>: Geoms are what actually <strong>draw the plot</strong>. This is where you choose the type of plot you want (scatter, bar, line, etc.). Each geom has its own function, such as:</p>
<ul>
<li><code>geom_point()</code> for scatter plots.</li>
<li><code>geom_bar()</code> for bar charts.</li>
<li><code>geom_line()</code> for line plots.</li>
</ul></li>
<li><p><strong>Inside the <code>aes()</code></strong>: You can specify additional aesthetics, such as <code>group = &lt;group_variable&gt;</code>, which groups the data for more complex plots like multiple lines in a line plot.</p></li>
<li><p><strong>Example</strong>: A simple scatter plot might use <code>geom_point()</code> like this:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> gender), <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This would make each point colored by gender and set the point size to 3.</p></li>
</ul>
<h3 id="size-size_value-shape-shape_value-alpha-alpha_value">5. <strong><code>size = &lt;size_value&gt;, shape = &lt;shape_value&gt;, alpha = &lt;alpha_value&gt;</code></strong></h3>
<ul>
<li><strong>Purpose</strong>: These arguments adjust <strong>non-data-dependent aesthetics</strong>, such as the size, shape, or transparency (alpha) of points or lines.</li>
<li><strong>Example</strong>: You might set <code>size = 2</code> to make points larger or <code>alpha = 0.7</code> to make points slightly transparent.</li>
</ul>
<h3 id="labstitle-your-plot-title-subtitle-subtitle-x-x-axis-label-y-y-axis-label">6. <strong><code>labs(title = "&lt;Your Plot Title&gt;", subtitle = "&lt;Subtitle&gt;", x = "&lt;X-axis Label&gt;", y = "&lt;Y-axis Label&gt;")</code></strong></h3>
<ul>
<li><p><strong>Purpose</strong>: The <code>labs()</code> function is used to set the <strong>labels</strong> for various parts of the plot, such as the title, subtitle, and axis labels.</p></li>
<li><p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age vs. Height"</span>, <span class="at">subtitle =</span> <span class="st">"Sample Data"</span>, <span class="at">x =</span> <span class="st">"Age (years)"</span>, <span class="at">y =</span> <span class="st">"Height (cm)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This would add a title, subtitle, and axis labels to your plot.</p></li>
</ul>
<h3 id="theme_minimal">7. <strong><code>theme_minimal()</code></strong></h3>
<ul>
<li><p><strong>Purpose</strong>: <code>ggplot2</code> offers many <strong>themes</strong> to customize the look of the plot, like fonts, grid lines, and background color. <code>theme_minimal()</code> provides a clean, modern look with minimal grid lines and a white background.</p></li>
<li><p><strong>Other Themes</strong>: You could also try <code>theme_classic()</code>, <code>theme_light()</code>, or <code>theme_bw()</code>.</p></li>
<li><p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a><span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<h3 id="theme">8. <strong><code>theme()</code></strong></h3>
<ul>
<li><p><strong>Purpose</strong>: The <code>theme()</code> function allows you to <strong>fine-tune</strong> specific elements of your plot, like adjusting the title position, removing the legend, or changing text sizes.</p></li>
<li><p><strong>Common Adjustments</strong>:</p>
<ul>
<li><code>plot.title = element_text(hjust = 0.5)</code>: Centers the plot title.</li>
<li><code>legend.position = "right"</code>: Controls the legend position (options: <code>"none"</code>, <code>"left"</code>, <code>"right"</code>, <code>"bottom"</code>, <code>"top"</code>).</li>
</ul></li>
<li><p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>), <span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<h3 id="scale_color_manualvalues-custom_color_palette">9. <strong><code>scale_color_manual(values = &lt;custom_color_palette&gt;)</code></strong></h3>
<ul>
<li><p><strong>Purpose</strong>: This allows you to <strong>customize colors</strong> for your plot. <code>scale_color_manual()</code> changes the colors of points, lines, etc., and <code>scale_fill_manual()</code> changes the fill colors.</p></li>
<li><p><strong>Example</strong>: If you have a custom palette, you can use it like this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<h3 id="scale_fill_manualvalues-custom_fill_palette">10. <strong><code>scale_fill_manual(values = &lt;custom_fill_palette&gt;)</code></strong></h3>
<ul>
<li><p><strong>Purpose</strong>: Similar to <code>scale_color_manual()</code>, this customizes the fill colors of objects (like bars or density plots) in the plot.</p></li>
<li><p><strong>Example</strong>: If you want bars to be a specific color, use:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"yellow"</span>, <span class="st">"green"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<h3 id="complete-example">11. <strong>Complete Example</strong>:</h3>
<p>Here’s an example of how the entire template would look for a scatter plot:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> my_data, <span class="fu">aes</span>(<span class="at">x =</span> age, <span class="at">y =</span> height, <span class="at">color =</span> gender)) <span class="sc">+</span></span>
<span id="cb17-2"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb17-3"><a href=""></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age vs. Height"</span>, <span class="at">subtitle =</span> <span class="st">"Sample Data"</span>, </span>
<span id="cb17-4"><a href=""></a>       <span class="at">x =</span> <span class="st">"Age (years)"</span>, <span class="at">y =</span> <span class="st">"Height (cm)"</span>, <span class="at">color =</span> <span class="st">"Gender"</span>) <span class="sc">+</span></span>
<span id="cb17-5"><a href=""></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-6"><a href=""></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb17-7"><a href=""></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb17-8"><a href=""></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"pink"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This would produce a scatter plot with:</p>
<ul>
<li>Points sized at 3 and slightly transparent.</li>
<li>A title, subtitle, and customized axis labels.</li>
<li>Colors based on gender, using blue and pink.</li>
<li>A centered title and legend placed at the bottom.</li>
</ul>
<h3 id="summary">Summary:</h3>
<ul>
<li><strong><code>ggplot()</code></strong> initializes the plot.</li>
<li><strong><code>aes()</code></strong> defines the aesthetic mappings (like x, y, color, and fill).</li>
<li><strong><code>geom_*()</code></strong> specifies the type of plot (scatter, bar, line, etc.).</li>
<li><strong><code>labs()</code></strong> adds titles and labels.</li>
<li><strong><code>theme()</code></strong> customizes the plot’s appearance.</li>
<li><strong><code>scale_*()</code></strong> modifies color and fill scales.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div>
</div>
</section>
<section id="bar-plot" class="slide level2 scrollable">
<h2>Bar Plot</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Base R</a></li><li><a href="#tabset-2-2">lattice</a></li><li><a href="#tabset-2-3">ggplot2</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="co"># Create a contingency table of income level and education</span></span>
<span id="cb18-2"><a href=""></a>income_education_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(wvs<span class="sc">$</span>incomeLevel, wvs<span class="sc">$</span>education)</span>
<span id="cb18-3"><a href=""></a></span>
<span id="cb18-4"><a href=""></a><span class="co"># Calculate proportions within each income level</span></span>
<span id="cb18-5"><a href=""></a>income_education_props <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(income_education_counts, <span class="dv">1</span>)</span>
<span id="cb18-6"><a href=""></a></span>
<span id="cb18-7"><a href=""></a><span class="co"># Use barplot() to draw the bar chart with proportions</span></span>
<span id="cb18-8"><a href=""></a><span class="fu">barplot</span>(</span>
<span id="cb18-9"><a href=""></a>  <span class="fu">t</span>(income_education_props),  <span class="co"># Transpose to have education levels as bars</span></span>
<span id="cb18-10"><a href=""></a>  <span class="at">main =</span> <span class="st">"Proportion of Education Levels by Income Level"</span>,</span>
<span id="cb18-11"><a href=""></a>  <span class="at">xlab =</span> <span class="st">"Income Level"</span>,</span>
<span id="cb18-12"><a href=""></a>  <span class="at">ylab =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb18-13"><a href=""></a>  <span class="at">col =</span> <span class="fu">rainbow</span>(<span class="fu">ncol</span>(income_education_props)),</span>
<span id="cb18-14"><a href=""></a>  <span class="at">legend =</span> <span class="fu">colnames</span>(income_education_props),</span>
<span id="cb18-15"><a href=""></a>  <span class="at">beside =</span> <span class="cn">TRUE</span></span>
<span id="cb18-16"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-10-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li><code>table()</code> creates a contingency table of income level and education.</li>
<li><code>prop.table()</code> calculates proportions within each income level.</li>
<li><code>t()</code> transposes the table to have education levels as bars.</li>
<li><code>barplot()</code> draws the bar chart with proportions.</li>
<li><code>main</code>, <code>xlab</code>, and <code>ylab</code> set the title, X-axis label, and Y-axis label of the graph.</li>
<li><code>col</code> sets the color of the bars.</li>
<li><code>legend</code> adds a legend.</li>
<li><code>beside = TRUE</code> places the bars side by side.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-2-2">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="co"># Load the lattice package</span></span>
<span id="cb19-2"><a href=""></a><span class="fu">library</span>(lattice)</span>
<span id="cb19-3"><a href=""></a></span>
<span id="cb19-4"><a href=""></a><span class="co"># Calculate proportions for each income level</span></span>
<span id="cb19-5"><a href=""></a>prop_data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">prop.table</span>(<span class="fu">table</span>(wvs<span class="sc">$</span>incomeLevel, wvs<span class="sc">$</span>education), <span class="dv">1</span>))</span>
<span id="cb19-6"><a href=""></a></span>
<span id="cb19-7"><a href=""></a><span class="co"># Use barchart() to draw the bar chart with proportions</span></span>
<span id="cb19-8"><a href=""></a><span class="fu">barchart</span>(</span>
<span id="cb19-9"><a href=""></a>  Freq <span class="sc">~</span> Var2 <span class="sc">|</span> Var1,</span>
<span id="cb19-10"><a href=""></a>  <span class="at">data =</span> prop_data,</span>
<span id="cb19-11"><a href=""></a>  <span class="at">main =</span> <span class="st">"Proportion of Education Levels by Income Level"</span>,</span>
<span id="cb19-12"><a href=""></a>  <span class="at">xlab =</span> <span class="st">"Education Level"</span>,</span>
<span id="cb19-13"><a href=""></a>  <span class="at">ylab =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb19-14"><a href=""></a>  <span class="at">col =</span> <span class="st">"lightgreen"</span>,</span>
<span id="cb19-15"><a href=""></a>  <span class="at">horizontal =</span> <span class="cn">FALSE</span>,</span>
<span id="cb19-16"><a href=""></a>  <span class="at">scales =</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="fu">list</span>(<span class="at">rot =</span> <span class="dv">45</span>))</span>
<span id="cb19-17"><a href=""></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-11-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ol type="1">
<li><p><code>barchart()</code>: This is a function from the <code>lattice</code> package used to create a bar chart. The goal here is to visualize the proportions of education levels for each income level.</p></li>
<li><p><code>Freq ~ Var2 | Var1</code>: This formula specifies that the Y-axis (<code>Freq</code>) represents the proportion of education levels (<code>Var2</code>), and the <code>| Var1</code> part means the plot is split by income levels. Each income level will have its own bar chart (facet), showing the proportion of each education level.</p></li>
<li><p><code>data = prop_data</code>: This specifies that the data used for plotting comes from the <code>prop_data</code> data frame.</p></li>
<li><p><code>main = "Proportion of Education Levels by Income Level"</code>: This sets the main title of the plot as “Proportion of Education Levels by Income Level”.</p></li>
<li><p><code>xlab = "Education Level"</code> and <code>ylab = "Proportion"</code>: These label the X-axis as “Education Level” and the Y-axis as “Proportion”, clarifying what each axis represents.</p></li>
<li><p><code>col = "lightgreen"</code>: This sets the bar colors to light green.</p></li>
<li><p><code>horizontal = FALSE</code>: This ensures that the bars are drawn vertically, creating a typical vertical bar chart.</p></li>
<li><p><code>scales = list(x = list(rot = 45))</code>: This rotates the X-axis labels by 45 degrees to improve readability, especially when there are many labels.</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-2-3">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href=""></a><span class="co"># Load the ggplot2 package</span></span>
<span id="cb20-2"><a href=""></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb20-3"><a href=""></a><span class="fu">library</span>(dplyr)</span>
<span id="cb20-4"><a href=""></a></span>
<span id="cb20-5"><a href=""></a><span class="co"># Calculate proportions within each income level</span></span>
<span id="cb20-6"><a href=""></a>prop_data <span class="ot">&lt;-</span> wvs <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href=""></a>  <span class="fu">group_by</span>(incomeLevel, education) <span class="sc">%&gt;%</span></span>
<span id="cb20-8"><a href=""></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb20-9"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count))</span>
<span id="cb20-10"><a href=""></a></span>
<span id="cb20-11"><a href=""></a><span class="co"># Use ggplot2 to draw the bar chart with proportions</span></span>
<span id="cb20-12"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> prop_data, <span class="fu">aes</span>(<span class="at">x =</span> incomeLevel, <span class="at">y =</span> proportion, <span class="at">fill =</span> <span class="fu">factor</span>(education))) <span class="sc">+</span></span>
<span id="cb20-13"><a href=""></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb20-14"><a href=""></a>  <span class="fu">labs</span>(</span>
<span id="cb20-15"><a href=""></a>    <span class="at">title =</span> <span class="st">"Proportion of Education Levels by Income Level"</span>,</span>
<span id="cb20-16"><a href=""></a>    <span class="at">x =</span> <span class="st">"Income Level"</span>,</span>
<span id="cb20-17"><a href=""></a>    <span class="at">y =</span> <span class="st">"Proportion"</span>,</span>
<span id="cb20-18"><a href=""></a>    <span class="at">fill =</span> <span class="st">"Education Level"</span></span>
<span id="cb20-19"><a href=""></a>  ) <span class="sc">+</span></span>
<span id="cb20-20"><a href=""></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-21"><a href=""></a>  <span class="fu">theme</span>(</span>
<span id="cb20-22"><a href=""></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb20-23"><a href=""></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb20-24"><a href=""></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb20-25"><a href=""></a>  ) <span class="sc">+</span></span>
<span id="cb20-26"><a href=""></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Basic_Visualize_files/figure-revealjs/unnamed-chunk-12-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<ol type="1">
<li><p><code>ggplot(data = prop_data, aes(x = incomeLevel, y = proportion, fill = factor(education)))</code>: This initializes the <code>ggplot</code> object, specifying the dataset (<code>prop_data</code>) and mapping the aesthetics (<code>aes()</code>):</p>
<ul>
<li><code>x = incomeLevel</code>: The income level is mapped to the X-axis.</li>
<li><code>y = proportion</code>: The calculated proportion is mapped to the Y-axis.</li>
<li><code>fill = factor(education)</code>: The education level is mapped to the fill color of the bars, converted to a factor to distinguish the different education levels by color.</li>
</ul></li>
<li><p><code>geom_bar(stat = "identity", position = "dodge")</code>:</p>
<ul>
<li><code>geom_bar(stat = "identity")</code>: This specifies that the heights of the bars should represent the actual values of the proportions in the data (<code>stat = "identity"</code>).</li>
<li><code>position = "dodge"</code>: This adjusts the bar positions so that bars for different education levels appear side-by-side (dodge) rather than stacked.</li>
</ul></li>
<li><p><code>labs(...)</code>: This function adds labels and titles to the plot:</p>
<ul>
<li><code>title = "Proportion of Education Levels by Income Level"</code>: The main title of the plot.</li>
<li><code>x = "Income Level"</code>: Label for the X-axis.</li>
<li><code>y = "Proportion"</code>: Label for the Y-axis.</li>
<li><code>fill = "Education Level"</code>: Label for the legend that indicates the different education levels.</li>
</ul></li>
<li><p><code>theme_minimal()</code>: This applies a minimalistic theme to the plot, removing unnecessary elements and providing a clean appearance.</p></li>
<li><p><code>theme(...)</code>: This customizes certain aspects of the plot’s appearance:</p>
<ul>
<li><code>plot.title = element_text(hjust = 0.5)</code>: Centers the plot title horizontally (<code>hjust = 0.5</code>).</li>
<li><code>legend.position = "bottom"</code>: Moves the legend to the bottom of the plot.</li>
<li><code>axis.text.x = element_text(angle = 45, hjust = 1)</code>: Rotates the X-axis text labels by 45 degrees to make them more readable, especially when there are many labels.</li>
</ul></li>
<li><p><code>scale_fill_brewer(palette = "Set3")</code>: This sets the color palette for the bar fill using <code>RColorBrewer</code>’s “Set3” palette, which provides visually distinct colors for different education levels.</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div>
</div>
<div class="quarto-auto-generated-content">
<p><img src="https://gitlab.com/sammo3182/backup/raw/85b3c1ad4b459d7a9f901f124b936428eda5fcaf/logo_zzxx.png?inline=true" class="slide-logo"></p>
<div class="footer footer-default">
<p>SUN Yufei（Adrian）</p>
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Basic_Visualize_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Basic_Visualize_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Basic_Visualize_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Basic_Visualize_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
              // target, if specified
              link.setAttribute("target", "_blank");
              if (link.getAttribute("rel") === null) {
                link.setAttribute("rel", "noopener");
              }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>